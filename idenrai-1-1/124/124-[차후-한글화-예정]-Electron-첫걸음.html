
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>[차후 한글화 예정] Electron 첫걸음</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">[차후 한글화 예정] Electron 첫걸음</h2>
                                <div class="box-info">
                                    <p class="category">Tech/Electron</p>
                                    <p class="date">2017-04-20 09:43:48</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <h1>Electron</h1>
<h2>Electronとは</h2>
<ul>
<li><p>旧)Atom Shell</p>
</li>
<li><p>Node.jsに基づいた<strong>Desktop Application Flatform</strong></p>
<ul>
<li><p>HTML, CSS, JavaScriptで、Cross-Flatformで 動くDesktop Applicationを作れる</p>
</li>
<li><p>WebPageのGUIとjavascriptで操作するChromium Browser</p>
</li>
</ul>
</li>
<li><p>Desktop Application : 似た技術として<strong><a href="http://nwjs.io/">NW.js (node-webkit)</a></strong>が存在</p>
<ul>
<li>技術的な違いについては、<a href="http://qiita.com/SFPGMR/items/afe8ac0bfad95e5ed50d">ここ</a>を参考 </li>
</ul>
</li>
<li><p>Electronで作られたアプリについては、 <a href="https://github.com/sindresorhus/awesome-electron">Awesome Electron</a> 参照</p>
</li>
</ul>
<h2>環境構築手順</h2>
<h3>目標</h3>
<ul>
<li><p><strong>Windows</strong>での<strong>Electron</strong>開発環境構築</p>
</li>
<li><p>Electronで<strong>Hello World</strong>の出力</p>
</li>
<li><p>パッケージングでexeファイルを作成、動作確認</p>
</li>
</ul>
<h3>基本設定</h3>
<ul>
<li><p>装置１スペック</p>
<ul>
<li><p>CPU : i3-4000M 2.40GHz</p>
</li>
<li><p>RAM : 4.0GB</p>
</li>
<li><p>OS : Microsoft Windows 8.1 Enterprise K 64Bit</p>
</li>
<li><p>Electron Version： 0.36.8</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p>装置２スペック</p>
<ul>
<li><p>CPU : i3-3240 3.40GHz</p>
</li>
<li><p>RAM : 4.0GB</p>
</li>
<li><p>OS : Microsoft Windows 7 Professional SP1 32Bit</p>
</li>
<li><p>Electron Version： 0.36.8</p>
</li>
</ul>
</li>
</ul>
<h3>下準備</h3>
<ul>
<li><p><strong><a href="https://nodejs.org/en/#download">Node.js</a></strong> : Stable Version (v.5.7.1)</p>
<ul>
<li><p>npmを使うので、<strong>Node.js</strong>の設置は必須！</p>
</li>
<li><p>Windowsのバージョンに合わせて、msiファイルをダウンロードし、設置するだけでＯＫ</p>
</li>
</ul>
</li>
<li><p><strong>Node.js</strong>の設置確認</p>
<ul>
<li><p>cmd &gt; node</p>
</li>
<li><p>簡単なjavascriptコードを入力し、テスト</p>
</li>
</ul>
</li>
</ul>
<p>  <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/9538d2ae-2bd3-1729-b39b-362c2baf2213.png" alt="cmdTest.png"></p>
<ul>
<li>jsファイルでのテスト : <strong>app.js</strong> (エンコード：UTF-8)</li>
</ul>
<pre><code class="language-javascript">
var http = require(&#39;http&#39;);

 http.createServer(function(req,res){

   res.writeHead(200,{&#39;Content-Type&#39;:&#39;text/plain&#39;});

   res.end(&#39;Hello World\nHello node.js!&#39;);

 }).listen(1337,&quot;127.0.0.1&quot;);



 console.log(&quot;Server running at http://127.0.0.1:1337/&quot;);
</code></pre>
<ul>
<li>Node.jsでapp.jsを実行し、指定したIP (<a href="http://127.0.0.1:1337">http://127.0.0.1:1337</a>)で確認</li>
</ul>
<p>   <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/54f02471-171f-756b-d077-7d29e3460da3.png" alt="nodeJSTest2.png"></p>
<h3>Electronのインストール</h3>
<ul>
<li><p>npmを使って、<strong>electron-prebuilt</strong>をダウンロード</p>
</li>
<li><p>Globalで設置したので、どこでプロジェクトを作成しても<strong>「electron プロジェクト名/</strong>」で実行できる。</p>
</li>
</ul>
<p>  <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/c9623d70-d763-90e2-532c-e40d8f821297.png" alt="inst.png"></p>
<h3>Electronの実行</h3>
<h4>Electron Appの構造</h4>
<pre><code>
your-app/

├── package.json : main fieldにscript fileを指定し、main processのエントリーポイントとして使用

├── main.js      : Windowを作り、システムイベントを処理

└── index.html   : ユーザに見せるページ
</code></pre><h4>プロジェクト生成</h4>
<ul>
<li><p>Electronは、実行されるときに「package.json」のmain scriptを呼び出す。</p>
<ul>
<li><strong>main script</strong>：main processで作動し、GUI Component操作・Web Page生成</li>
</ul>
</li>
<li><p><strong>npm init</strong>で<strong>package.json</strong>を作成</p>
<ul>
<li>何を言ってるのか全然理解できなかったら、ただ<strong>Enter</strong>だけ押せばほとんどＯＫ </li>
</ul>
<p>(ここではプロジェクト名を<strong>electron</strong>に設定する)</p>
<ul>
<li><p>ただ、<strong>entry point</strong>には必ず「<strong>main.js</strong>」を設定すること！</p>
</li>
<li><p>もし<strong>package.json</strong>に<strong>main scrip</strong>tが設定されてない場合、</p>
<p>Electronは自動で同じディレクトリーの<strong>index.js</strong>をロードする</p>
</li>
</ul>
</li>
</ul>
<p>  <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/94b55d28-f7c0-1732-f0e6-3a8828946064.png" alt="initProject.png"></p>
<ul>
<li>上の作業で、下のような「package.json」が生成される</li>
</ul>
<pre><code class="language-javascript">
/**

 * package.json

 **/ 

{

  &quot;name&quot;: &quot;electron&quot;,

  &quot;version&quot;: &quot;1.0.0&quot;,

  &quot;description&quot;: &quot;print \&quot;Hello, Electron\&quot;&quot;,

  &quot;main&quot;: &quot;main.js&quot;,

  &quot;scripts&quot;: {

    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;

  },

  &quot;author&quot;: &quot;Youngjae Kwon&quot;,

  &quot;license&quot;: &quot;ISC&quot;

}
</code></pre>
<h4>Hello, Electron!</h4>
<p>一旦準備が終わったので、いつもの通り<strong>「Hello World」</strong>みたいな物を出力してみよう。</p>
<p><strong>init</strong>で<strong>main script</strong>を<strong>「main.js」</strong>で設定したので、<strong>main.js</strong>から作成することに。</p>
<pre><code class="language-js">
/**

 * main.js

 **/ 

// アプリケーション基盤をコントロールするモジュール

var app = require(&#39;app&#39;);



// ブラウザーウィンドーを作るモジュール

var BrowserWindow = require(&#39;browser-window&#39;);



// ウィンドーオブジェクトを全域に維持

var mainWindow = null;



// すべてのウィンドーが閉じられたら呼び出される (アプリケーション終了)

app.on(&#39;window-all-closed&#39;, function() {

  if (process.platform != &#39;darwin&#39;) {

    app.quit();

  }

});



// Electronの初期化が完了し、ブラウザーウィンドーを開く準備ができたら実行

app.on(&#39;ready&#39;, function() {

  // 新しいブラウザーウィンドーを生成

  mainWindow = new BrowserWindow({width: 800, height: 600});



  // 今のディレクトリーで「 index.html」をロード

  mainWindow.loadUrl(&#39;file://&#39; + __dirname + &#39;/index.html&#39;);



  // ウィンドーが閉じられたら呼び出される  (アプリケーション終了)

  mainWindow.on(&#39;closed&#39;, function() {

    // ウィンドーオブジェクトの参照を削除

    mainWindow = null;

  });

});
</code></pre>
<p><strong>main.js</strong>が<strong>index.html</strong>を呼ぶことにしたので、今度は<strong>index.html</strong>を作成する。</p>
<p>実際目に見える部分はここで作成する。</p>
<ul>
<li><strong>index.html</strong></li>
</ul>
<pre><code class="language-html">
&lt;!--

/*

 * index.html

 */

 --&gt;

&lt;!DOCTYPE html&gt;

&lt;html&gt;

&lt;head&gt;

  &lt;meta charset=&quot;UTF-8&quot;&gt;

  &lt;title&gt;Sample&lt;/title&gt;

&lt;/head&gt;

&lt;body&gt;

  &lt;p&gt;Hello, Electron!&lt;/p&gt;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<p>これで準備はＯＫ。</p>
<p>実行してみよう。</p>
<p>  <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/c5622a0e-74ae-93a7-7390-d0e18e238ae2.png" alt="sample.png"></p>
<h4>Packaging</h4>
<ul>
<li><p>プロジェクトを誰でも使えるように、パッケージ化してみよう。</p>
</li>
<li><p>ここでは、<strong><a href="https://github.com/electron-userland/electron-packager">electron-packager</a></strong>を使って作業。</p>
</li>
</ul>
<p>これも<strong>npm</strong>でもってこればＯＫ</p>
<p>  <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/d4f682f7-fba3-3b5c-5bc4-a7709c1bf286.png" alt="packager.png"></p>
<p> これでダウンロード終わり。</p>
<ul>
<li>早速使ってみよう</li>
</ul>
<p>  <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/0886a369-3c43-60d1-0836-bac84197bbd9.png" alt="packager2.png"></p>
<p>  この通り、electron-win32-ia32とelectron-win32-x64フォルダが生成された。</p>
<p>  書いた内容を説明すると…</p>
<p>  platform ･･･ all, linux, win32, darwin</p>
<p>  arch ･･･ all, ia32, x64</p>
<p>  version ･･･ Electronのバージョンを指定 (現在0.36.8)</p>
<p>  ここでallを選んだので、フォルダが32と64の二つができた。</p>
<p>  もし32bitWindowsの装置を使ってるとしたら、実は</p>
<p>  <code>electron-packager ./electron electron --platform=win32 --arch=ia32 --version=0.36.8</code></p>
<p>  これだけでＯＫ。</p>
<ul>
<li>実行</li>
</ul>
<p>  <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/c81c17b5-33ca-f6dd-230b-801dadf8446c.png" alt="run.png"></p>
<p>  プロジェクト名をElectronにしてしまって、ちょっとわかり辛くなったが…</p>
<p>  こうやってEXEファイルができ、それを実行したら普通にアプリが動く。</p>
<h2>Electronでのアプリケーション開発</h2>
<h3>1. 目標</h3>
<ul>
<li><p>簡単なメモ帳アプリの作成 (テキストの保存とロード機能)</p>
</li>
<li><p>WindowsでElectronを使ったアプリ開発</p>
</li>
<li><p>プロジェクト作成には<strong>Atom</strong>と<strong>Grunt</strong>を使ってみること</p>
</li>
<li><p>パッケージングでEXEファイルを作り、動作を確認</p>
</li>
</ul>
<h3>2. 準備</h3>
<h4>2-1. Atom</h4>
<ul>
<li><p>Atom ダウンロード (<a href="https://atom.io">https://atom.io</a>)</p>
<p>Windowsのバージョンに合わせてインストールするだけでＯＫ</p>
</li>
<li><p>Packageの設置 (File→Settings→InstallでPackage検索)</p>
<ul>
<li><p><strong>linter</strong> : 文法上のエラー表示</p>
</li>
<li><p><strong>grunt-runner</strong> : AtomでGrunt実行</p>
</li>
<li><p><strong>minimap</strong>, <strong>minimap-find-and-replace</strong> : minimapが見える</p>
</li>
<li><p><strong>atom-minify</strong> : JS, CSSの圧縮化 (ctrl+shift+m or 「Minify on save」設定)</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/7961b67e-3203-7b9e-efbb-8ed7bb134693.png" alt="package-atom.png"></p>
<h4>2-2. Grunt</h4>
<ul>
<li><p><strong>Grunt</strong>とは？</p>
<ul>
<li><p>プロジェクト自動化のための<strong>Command Line Build Tool</strong></p>
</li>
<li><p><strong>パッケージ管理者</strong> (Yeoman , Bower , Gulp等と同じ)</p>
</li>
<li><p>もっとも基本的な自動化パッケージ</p>
</li>
</ul>
</li>
</ul>
<ul>
<li><p><strong>grunt-cli (Grunt&#39;s Command Line Interface) 設置</strong></p>
<ul>
<li><p>grunt-cliの設置で、システム経路に「grunt」コマンドが追加され、gruntが使えるようになる。</p>
</li>
<li><p>grunt-cliの役割はただ<strong>Gruntflie</strong>というファイルがある場所に設置されたGruntを実行するだけ。</p>
</li>
</ul>
</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/4f6a6aa6-c214-c80c-6f92-ba90c957b50c.png" alt="grunt-cli.png"></p>
<ul>
<li><p><strong>Grunt Module 設置方法</strong> (package.jsonがあるディレクトリで設置)</p>
<ul>
<li><p>新しいModuleを設置し、package.jsonに記入 : <code>npm install grunt --save dev</code></p>
</li>
<li><p>すでにpackage.jsonに記入されているModuleを設置 : <code>npm install</code></p>
</li>
</ul>
<p>(package.jsonとGruntfile.jsがあれば、どこでも同じgrunt作業が可能！)</p>
<ul>
<li>ここでは2の方法でプロジェクト作成</li>
</ul>
</li>
</ul>
<h3>3. Project作成</h3>
<h4>3-1. ディレクトリ構成図</h4>
<pre><code>
C:\PROJECT\MEMO

│  Gruntfile.js

│  main.js

│  package.json

│  

├─app

│  ├─css

│  │      bootstrap-theme.css

│  │      bootstrap-theme.css.map

│  │      bootstrap-theme.min.css

│  │      bootstrap.css

│  │      bootstrap.css.map

│  │      bootstrap.min.css

│  │      

│  ├─fonts

│  │      glyphicons-halflings-regular.eot

│  │      glyphicons-halflings-regular.svg

│  │      glyphicons-halflings-regular.ttf

│  │      glyphicons-halflings-regular.woff

│  │      glyphicons-halflings-regular.woff2

│  │      

│  ├─html

│  │  │  index.html

│  │  │  

│  │  └─include

│  │          link.html

│  │          memo.html

│  │          

│  ├─js

│  │  │  memo.js

│  │  │  memo.min.js

│  │  │  

│  │  └─lib

│  │          bootstrap.js

│  │          bootstrap.min.js

│  │          jquery-1.12.1.js

│  │          jquery-1.12.1.min.js

│  │          npm.js

│  │          

│  └─view

│      │  index.html

│      │  

│      └─include

│              link.html

│              memo.html

│              

├─dist

│  ├─css

│  │      style.min.css

│  │      

│  └─js

│          site.js

│          site.min.js

│          

└─node_modules

    ├─grunt

    ├─grunt-cache-breaker

    ├─grunt-contrib-cssmin

    ├─grunt-contrib-uglify

    ├─grunt-includes

    ├─load-grunt-tasks

    ├─moment

    └─time-grunt                        
</code></pre><ul>
<li>css・fonts・libフォルダには、<a href="http://bootstrapk.com/getting-started/#download">Bootstrap</a>, <a href="http://jquery.com/download/">JQuery</a>をダウンロードして入れる。</li>
</ul>
<h4>3-2. プロジェクトソース</h4>
<ul>
<li><strong>package.json</strong></li>
</ul>
<pre><code class="language-js">
/**

 * package.json

 **/

{

  &quot;name&quot;: &quot;memo&quot;,

  &quot;version&quot;: &quot;1.0.0&quot;,

  &quot;description&quot;: &quot;save and load txt file&quot;,

  &quot;main&quot;: &quot;main.js&quot;,

  &quot;scripts&quot;: {

    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;

  },

  &quot;author&quot;: &quot;Youngjae Kwon&quot;,

  &quot;license&quot;: &quot;ISC&quot;,

  &quot;devDependencies&quot;: {

    &quot;grunt&quot;: &quot;^0.4.5&quot;,

    &quot;moment&quot;: &quot;^2.8.3&quot;,

    &quot;grunt-cache-breaker&quot;: &quot;^2.0.1&quot;,

    &quot;grunt-contrib-cssmin&quot;: &quot;^1.0.0&quot;,

    &quot;grunt-contrib-uglify&quot;: &quot;^1.0.0&quot;,

    &quot;grunt-includes&quot;: &quot;^0.5.4&quot;,

    &quot;load-grunt-tasks&quot;: &quot;^3.4.1&quot;,

    &quot;time-grunt&quot;: &quot;^1.3.0&quot;

  }

}
</code></pre>
<ul>
<li><strong>main.js</strong></li>
</ul>
<pre><code class="language-js">
/**

 * main.js

 **/

var app = require(&#39;app&#39;);

var BrowserWindow = require(&#39;browser-window&#39;);

var mainWindow = null;



app.on(&#39;window-all-closed&#39;, function() {

  if (process.platform != &#39;darwin&#39;) {

    app.quit();

  }

});



app.on(&#39;ready&#39;, function() {

  mainWindow = new BrowserWindow({width: 550, height: 410});

  mainWindow.loadUrl(&#39;file://&#39; + __dirname + &#39;/app/view/index.html&#39;);

  mainWindow.on(&#39;closed&#39;, function() {

    mainWindow = null;

  });

});
</code></pre>
<ul>
<li><strong>Gruntfile.js</strong></li>
</ul>
<pre><code class="language-js">
/**

 * Gruntfile.js

 **/

module.exports = function(grunt) {

    &#39;use strict&#39;;

    var moment = (require(&#39;moment&#39;))();

    var timestamp = &#39;None&#39;;



    // 自動でgrunt Taskをロードする。(grunt.loadNpmTasksは省略可能)

    require(&#39;load-grunt-tasks&#39;)(grunt);



    // 作業時間表示

    require(&#39;time-grunt&#39;)(grunt);



    grunt.initConfig({

        pkg: grunt.file.readJSON(&#39;package.json&#39;),



        // html task

        includes: {

            files: {

                cwd: &#39;app/html/&#39;,    // app/htmlのhtmlファイルにinclude処理をして

                src: [&#39;**/*.html&#39;],

                dest: &#39;app/view/&#39;,    // その結果をapp/viewに入れる

                options: {

                    flatten: true,

                    debug: true,

                    includePath: &#39;app/html/&#39;

                }

            }

        },

        // css task

        cssmin: {

            options: {

                keepSpecialComments: 1,

            },

            dist: {

                src: &#39;dist/css/style.css&#39;,

                dest: &#39;dist/css/style.min.css&#39;

            }

        },

        // js task

        uglify: {

            options: {

                banner: &#39;&lt;%= banner %&gt;&#39;

            },

            dist: {

                src: &#39;dist/js/site.js&#39;,

                dest: &#39;dist/js/site.min.js&#39;

            }

        },

        cachebreaker: {

          dev: {

            options: {

              match: [&#39;.js&#39;],

              replacement: function () {

                return moment.format(&#39;YYYYMMDDhhmmss&#39;);

              }

            },

            files: {

              src: [&#39;app/html/*.html&#39;, &#39;app/view/*.html&#39;]

            }

          }

        }

    });



    // html task

    grunt.registerTask(&#39;html&#39;, [&#39;includes&#39;]);

    // css task

    grunt.registerTask(&#39;css&#39;, [&#39;cssmin&#39;]);

    // javascript task

    grunt.registerTask(&#39;js&#39;, [&#39;uglify&#39;, &#39;cachebreaker&#39;]);



    // default task

    grunt.registerTask(&#39;default&#39;, [&#39;html&#39;, &#39;css&#39;, &#39;js&#39;]);

};
</code></pre>
<ul>
<li><strong>index.html</strong></li>
</ul>
<pre><code class="language-html">
&lt;!--

/*

 * index.html

 */

 --&gt;

&lt;!DOCTYPE html&gt;

&lt;html lang=&quot;ja&quot;&gt;

&lt;head&gt;

  &lt;meta charset=&quot;utf-8&quot;&gt;

  &lt;title&gt;Memo MK2&lt;/title&gt;

  &lt;link href=&quot;../css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;

&lt;/head&gt;

&lt;body&gt;

  include &quot;include/link.html&quot;

  include &quot;include/memo.html&quot;

&lt;/body&gt;

&lt;/html&gt;
</code></pre>
<ul>
<li><strong>link.html</strong></li>
</ul>
<pre><code class="language-html">
&lt;!--

/*

 * link.html

 */

 --&gt;

&lt;script src=&quot;../js/lib/jquery-1.12.1.min.js&quot;&gt;&lt;/script&gt;

&lt;script src=&quot;../js/lib/bootstrap.min.js&quot;&gt;&lt;/script&gt;

&lt;script type=&quot;text/javascript&quot; src=&quot;../js/memo.min.js&quot;&gt;&lt;/script&gt;
</code></pre>
<ul>
<li><strong>memo.html</strong></li>
</ul>
<pre><code class="language-html">
&lt;!--

/*

 * memo.html

 */

 --&gt;

&lt;table class=&quot;table table-striped&quot;&gt;

  &lt;tr&gt;

    &lt;td style=&quot;text-align: left; width: 100px;&quot;&gt;テキスト入力&lt;/td&gt;

    &lt;td colspan=&quot;2&quot; style=&quot;text-align:left; width:300px;&quot;&gt;

      &lt;textarea id=&quot;ntText&quot; class=&quot;input-xxlarge&quot; style=&quot;width:95%; height:200px;&quot; maxlength=&quot;4000&quot;&gt;&lt;/textarea&gt;

    &lt;/td&gt;

  &lt;/tr&gt;

  &lt;tr&gt;

    &lt;td&gt;ファイル名&lt;/td&gt;

    &lt;td&gt;

      &lt;input type=&quot;text&quot; class=&quot;form-control&quot;  id=&quot;nmSaveFile&quot; /&gt;

    &lt;/td&gt;

    &lt;td&gt;

      &lt;button class=&quot;btn btn-default btn-primary&quot; onclick=&quot;saveTxt()&quot;&gt;保存する&lt;/button&gt;

    &lt;/td&gt;

  &lt;/tr&gt;

  &lt;tr&gt;

    &lt;td&gt;ファイル選択&lt;/td&gt;

    &lt;td&gt;

      &lt;input type=&quot;file&quot; class=&quot;form-control&quot;  id=&quot;nmLoadFile&quot; /&gt;

    &lt;/td&gt;

    &lt;td&gt;

      &lt;button class=&quot;btn btn-default btn-primary&quot; onclick=&quot;loadTxt()&quot;&gt;ロードする&lt;/button&gt;

    &lt;/td&gt;

  &lt;/tr&gt;

&lt;/table&gt;
</code></pre>
<ul>
<li><strong>memo.js</strong></li>
</ul>
<pre><code class="language-js">
/**

 * memo.js

 **/

// テキスト保存

function saveTxt(){

  var ntText = document.getElementById(&quot;ntText&quot;).value;

  var ntBlobText = new Blob([ntText], {type:&#39;text/plain&#39;});

  var nmSaveFile = document.getElementById(&quot;nmSaveFile&quot;).value;

  var saveLink = document.createElement(&quot;a&quot;);

  saveLink.download = (nmSaveFile === null || nmSaveFile == &quot;&quot;) ? &quot;memo.txt&quot; : nmSaveFile + &quot;.txt&quot;;

  saveLink.innerHTML = &quot;Download File&quot;;

  saveLink.href = window.webkitURL.createObjectURL(ntBlobText);

  saveLink.click();

}



// テキストロード

function loadTxt(){

  var nmLoadFile = document.getElementById(&quot;nmLoadFile&quot;).files[0];

  var fileReader = new FileReader();

  fileReader.onload = function(fileLoadedEvent){

    var ntLoadText = fileLoadedEvent.target.result;

    document.getElementById(&quot;ntText&quot;).value = ntLoadText;

  };

  fileReader.readAsText(nmLoadFile, &quot;UTF-8&quot;);

}
</code></pre>
<h4>3-3. プロジェクト作成</h4>
<ul>
<li><p><strong>node_modules</strong> インストール</p>
<ul>
<li><p><strong>package.json</strong>に<strong>devDependencies</strong>として定義されているmoduleを全部インストールする。</p>
</li>
<li><p><code>C:\PROJECT</code>にて<code>npm install</code></p>
</li>
</ul>
</li>
<li><p><strong>Atom Minify</strong>で<strong>memo.min.js</strong>作成</p>
<ul>
<li><p><strong>atom-minify</strong>の設定で「Minify on save」を設定すると、保存する時に自動でmemo.min.jsを生成</p>
</li>
<li><p>この画面が出ればＯＫ。 </p>
</li>
</ul>
</li>
</ul>
<p>　</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/8f5e7196-8a67-4c43-b506-387b6b29733d.png" alt="success_minify.png"></p>
<ul>
<li><p><strong>Grunt Runner</strong>で<strong>Grunt</strong>を<strong>Default</strong>で動かす</p>
<ul>
<li><p>Gruntは勉強用で入れたのがほとんどで、実際この作業で必須なのは<strong>includes</strong>だけ。</p>
</li>
<li><p><strong>link.html</strong>、<strong>memo.html</strong>を<strong>index.html</strong>に含め、<strong>/app/view/index.html</strong>を作成</p>
</li>
<li><p>この画面が出ればＯＫ。</p>
</li>
</ul>
</li>
</ul>
<p> <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/948088db-b20f-aca4-4e34-10c76f657e1e.png" alt="grunt_success.png"></p>
<ul>
<li><p><code>C:\PROJECT</code>にて<code>electron memo/</code>で動作確認 </p>
<ul>
<li>この画面が出ればＯＫ。</li>
</ul>
</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/630480d2-b2bf-8412-a4a1-84ef57289ace.png" alt="run_electron.png"></p>
<h3>4. パッケージング・動作確認</h3>
<h4>4-1. パッケージング</h4>
<ul>
<li><strong>memoフォルダ</strong>を<strong>memoMK2</strong>という名前でパッケージングする。</li>
</ul>
<pre><code>
C:\project&gt;electron-packager ./memo memoMK2 --platform=win32 --arch=ia32 --version=0.36.8

Packaging app for platform win32 ia32 using electron v0.36.8

Wrote new app to C:\project\memoMK2-win32-ia32

C:\project&gt;
</code></pre><h4>4-2. 作動確認</h4>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/eed83335-c18b-b816-244c-158be4a3d9c4.png" alt="complete.png"></p>
<h2>まとめ</h2>
<h3>すごく簡単！</h3>
<ul>
<li><p>Web Pageを作る感覚で、普通にDesktop Applicationが作れる。</p>
</li>
<li><p>環境設定に時間がかからないのもメリット</p>
<ul>
<li><p>以前のHadoopの時を考えたら…</p>
</li>
<li><p>特にWindowsでも簡単にできるのが嬉い。</p>
</li>
</ul>
</li>
</ul>
<h3>Creatorとしての喜び</h3>
<ul>
<li><p>こうやって簡単にアプリを作れるから、創作意欲が沸く。</p>
</li>
<li><p>自分に必要な物は、自分で作ってみよう！</p>
</li>
</ul>
<h2>参考</h2>
<ul>
<li><p><a href="https://github.com/atom/electron">Electron Github</a></p>
</li>
<li><p><a href="http://qiita.com/SFPGMR/items/afe8ac0bfad95e5ed50d">electronとnw.jsの技術的な違い</a></p>
</li>
<li><p><a href="http://qiita.com/nyanchu/items/15d514d9b9f87e5c0a29">30分で出来る、JavaScript (Electron) でデスクトップアプリを作って配布するまで</a></p>
</li>
<li><p><a href="http://blog.outsider.ne.kr/1169">Outsider&#39;s Dev Story</a></p>
</li>
<li><p><a href="https://github.com/demun/demun.github.com/wiki/01_00_grunt_guide">Grunt 가이드</a> </p>
</li>
</ul>

                        </div>
                        <br/>
                        <div class="tags">
                            #electron 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
