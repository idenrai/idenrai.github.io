
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>사이드바를 통한 패널 이동 구현</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">사이드바를 통한 패널 이동 구현</h2>
                                <div class="box-info">
                                    <p class="category">Tech/React.js</p>
                                    <p class="date">2017-02-17 15:56:30</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p>여전히 프레임워크 제작중...</p><p>지금 하는 일은 화면 내 panel의 정보를 주워서 표시하는 사이드바를 만들고,</p><p>그 사이드바 버튼 클릭 시 해당 panel로 이동 + panel이 accordion이라면 열어주는 작업이다.</p><p>이 사이드바는 따로 props를 받지 않고 독립적으로 움직이며,</p><p>그냥 패널이 있는 화면에 갖다 붙이기만 하면 알아서 지가 화면 읽어서 패널 정보를 표시한다.</p><p><br /></p><p>뭐... 패널도 따로 정해진 부품이 이미 있기에...</p><p><br /></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><p></p><div class="colorscripter-code" style="overflow: auto; position: relative !important;"></div><p></p><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">componentDidMount()&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;this.makeMenuItem();</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">makeMenuItem&nbsp;<span style="color:#a71d5d">=</span>&nbsp;()&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;drawer&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#066de2">document</span>.<span style="color:#066de2">getElementsByClassName</span>(<span style="color:#63a35c">'naviDrawer'</span>)[<span style="color:#0099cc">0</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;styles&nbsp;<span style="color:#a71d5d">=</span>&nbsp;this.getStyles(this.props,&nbsp;this.context);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;panelList&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#066de2">document</span>.<span style="color:#066de2">getElementsByClassName</span>(<span style="color:#63a35c">'accordionwrapper'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(panelList.<span style="color:#066de2">length</span>&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">=</span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0</span>)&nbsp;<span style="color:#a71d5d">return</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;menuItems&nbsp;<span style="color:#a71d5d">=</span>&nbsp;[];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;[].forEach.call(panelList,&nbsp;(panel)&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;panelTitle&nbsp;<span style="color:#a71d5d">=</span>&nbsp;panel.<span style="color:#066de2">getElementsByClassName</span>(<span style="color:#63a35c">'paneltitle'</span>)[<span style="color:#0099cc">0</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;menuItems.push(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span>MenuItem&nbsp;style<span style="color:#a71d5d">=</span>{styles.item}&nbsp;onClick<span style="color:#a71d5d">=</span>{()&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;this.setFocus(panelTitle)}&nbsp;key<span style="color:#a71d5d">=</span>{uuid()}<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{panelTitle.textContent}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span><span style="color:#a71d5d">/</span>MenuItem<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;});</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;this.setState({&nbsp;menuItems&nbsp;});</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;drawer.<span style="color:#066de2">addEventListener</span>(<span style="color:#63a35c">'mouseleave'</span>,&nbsp;this.closeNavi);</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color:#e5e5e5; text-decoration:none">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="text-decoration:none; color:white"><span style="font-size:9px; word-break:normal; background-color:#e5e5e5; color:white; border-radius:10px; padding:1px">cs</span></a></td></tr></tbody></table></div><p><br /></p><p>대충 이런 식으로 클래스명으로 화면 긁어오기만 하면 된다.</p><p>다만, 화면이 만들어지고 나서야 긁어올 수 있으므로,&nbsp;</p><p>componentDidMount에서 해당 작업을 하는 것이 포인트.</p><p><br /></p><p>render에는 버튼을 갖다놓고, 해당 버튼에 마우스를 올리면 사이드바를 표시하도록 했다.</p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div><div style="line-height:130%">33</div><div style="line-height:130%">34</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">openNavi&nbsp;<span style="color:#a71d5d">=</span>&nbsp;(<span style="color:#066de2">event</span>)&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#066de2">event</span>.preventDefault();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;target&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#066de2">event</span>.currentTarget.parentElement;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;target.style.display&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">'none'</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;this.setState({&nbsp;open:&nbsp;<span style="color:#0099cc">true</span>&nbsp;});</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">closeNavi&nbsp;<span style="color:#a71d5d">=</span>&nbsp;(<span style="color:#066de2">event</span>)&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#066de2">event</span>.preventDefault();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;target&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#066de2">event</span>.currentTarget.parentElement.<span style="color:#066de2">getElementsByClassName</span>(<span style="color:#63a35c">'naviTrigger'</span>)[<span style="color:#0099cc">0</span>];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;target.style.display&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">'inline-block'</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;this.setState({&nbsp;open:&nbsp;<span style="color:#0099cc">false</span>&nbsp;});</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">render()&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;styles&nbsp;<span style="color:#a71d5d">=</span>&nbsp;this.getStyles(this.props,&nbsp;this.context);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">return</span>&nbsp;(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span>div<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span>FloatingActionButton</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;className<span style="color:#a71d5d">=</span><span style="color:#63a35c">"naviTrigger"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style<span style="color:#a71d5d">=</span>{styles.trigger}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;onMouseEnter<span style="color:#a71d5d">=</span>{this.openNavi}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span>i&nbsp;className<span style="color:#a71d5d">=</span><span style="color:#63a35c">"fa&nbsp;fa-plus&nbsp;fa-lg"</span>&nbsp;aria<span style="color:#a71d5d">-</span>hidden<span style="color:#a71d5d">=</span><span style="color:#63a35c">"true"</span>&nbsp;<span style="color:#a71d5d">/</span><span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span><span style="color:#a71d5d">/</span>FloatingActionButton<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span>Drawer</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;className<span style="color:#a71d5d">=</span><span style="color:#63a35c">"naviDrawer"</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;open<span style="color:#a71d5d">=</span>{this.state.open}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;openSecondary<span style="color:#a71d5d">=</span>{styles.openSecondary}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;containerStyle<span style="color:#a71d5d">=</span>{styles.root}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{this.state.menuItems}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span><span style="color:#a71d5d">/</span>Drawer<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span><span style="color:#a71d5d">/</span>div<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;);</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br /></p><p>대충 이래 놓고, 각 메뉴 아이템에 클릭 이벤트를 바르면 일단 기능적으로는 완료.</p><p>이 클릭 이벤트는 해당 패널의 좌표를 읽어서 스크롤을 굴려 해당 패널을 화면 최상단에 위치시키고,</p><p>만일 아코디언 패널이라 클릭을 통해 여닫는 기능이 있다면 열어주는 역할을 한다.</p><p><br /></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">getOffset&nbsp;<span style="color:#a71d5d">=</span>&nbsp;(element)&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;box&nbsp;<span style="color:#a71d5d">=</span>&nbsp;element.getBoundingClientRect();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">return</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;top:&nbsp;(box.top&nbsp;<span style="color:#a71d5d">+</span>&nbsp;<span style="color:#066de2">window</span>.pageYOffset)&nbsp;<span style="color:#a71d5d">-</span>&nbsp;<span style="color:#066de2">document</span>.<span style="color:#066de2">documentElement</span>.clientTop&nbsp;<span style="color:#a71d5d">-</span>&nbsp;<span style="color:#0099cc">50</span>,</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;left:&nbsp;(box.left&nbsp;<span style="color:#a71d5d">+</span>&nbsp;<span style="color:#066de2">window</span>.pageXOffset)&nbsp;<span style="color:#a71d5d">-</span>&nbsp;<span style="color:#066de2">document</span>.<span style="color:#066de2">documentElement</span>.clientLeft</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;};</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">setFocus&nbsp;<span style="color:#a71d5d">=</span>&nbsp;(panel)&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#066de2">event</span>.preventDefault();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;panelPosition&nbsp;<span style="color:#a71d5d">=</span>&nbsp;this.getOffset(panel);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#066de2">document</span>.body.scrollTop&nbsp;<span style="color:#a71d5d">=</span>&nbsp;panelPosition.top;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;Panel.handleOpenPanel(panel.nextElementSibling.id);</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br /></p><p>getOffset으로 해당 패널의 좌표를 따, scrollTop으로 화면 최상단으로 밀어올린다.</p><p>getOffset에서 top에 -50을 한 이유는, 상단에 상태바가 있기 때문이다.</p><p>이후엔 Panel에 state로 정의해둔&nbsp;<span style="background-color: rgb(250, 250, 250); color: rgb(1, 1, 1); font-family: Consolas, &quot;Liberation Mono&quot;, Menlo, Courier, monospace; white-space: pre;">handleOpenPanel</span>을 불러와 패널을 열어주면 끝.</p><p><br /></p><p>그런데 여기서 한가지 태클이 들어왔다.</p><p>스크롤 이동 시에는 애니메이션을 넣어줄 것...</p><p>우린 jQuery 사용 금지인 터라...</p><p>다음과 같이 setTimeOut을 사용해 열심히 스크롤을 굴려 주는 것으로 해결봤다.</p><p><br /></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">scrollTo&nbsp;<span style="color:#a71d5d">=</span>&nbsp;(element,&nbsp;to,&nbsp;duration)&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(duration&nbsp;<span style="color:#a71d5d">&lt;</span><span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0</span>)&nbsp;<span style="color:#a71d5d">return</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;difference&nbsp;<span style="color:#a71d5d">=</span>&nbsp;to&nbsp;<span style="color:#a71d5d">-</span>&nbsp;element.scrollTop;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;perTick&nbsp;<span style="color:#a71d5d">=</span>&nbsp;(difference&nbsp;<span style="color:#a71d5d">/</span>&nbsp;duration)&nbsp;<span style="color:#a71d5d">*</span>&nbsp;<span style="color:#0099cc">10</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#066de2">setTimeout</span>(()&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;element.scrollTop&nbsp;<span style="color:#a71d5d">+</span><span style="color:#a71d5d">=</span>&nbsp;perTick;&nbsp;<span style="color:#999999">//&nbsp;eslint-disable-line&nbsp;no-param-reassign</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(element.scrollTop&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">=</span><span style="color:#a71d5d">=</span>&nbsp;to)&nbsp;<span style="color:#a71d5d">return</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;this.scrollTo(element,&nbsp;to,&nbsp;duration&nbsp;<span style="color:#a71d5d">-</span>&nbsp;<span style="color:#0099cc">10</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;},&nbsp;<span style="color:#0099cc">10</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div><div style="padding:0 6px; white-space:pre; line-height:130%">setFocus&nbsp;<span style="color:#a71d5d">=</span>&nbsp;(panel)&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#066de2">event</span>.preventDefault();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;panelPosition&nbsp;<span style="color:#a71d5d">=</span>&nbsp;this.getOffset(panel);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;this.scrollTo(<span style="color:#066de2">document</span>.body,&nbsp;panelPosition.top,&nbsp;<span style="color:#0099cc">300</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;Panel.handleOpenPanel(panel.nextElementSibling.id);</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br /></p><p>setTimeOut이 싫은 경우,</p><p>setFocus()에서 CSS를 조절하여&nbsp;같은 동작이 가능하다.</p><p>대충 이런 식으로...</p><p><br /></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">setFocus&nbsp;<span style="color:#a71d5d">=</span>&nbsp;(panel)&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#066de2">event</span>.preventDefault();</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;Panel.handleOpenPanel(panel.nextElementSibling.id);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;panelPosition&nbsp;<span style="color:#a71d5d">=</span>&nbsp;this.getOffset(panel);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;base&nbsp;<span style="color:#a71d5d">=</span>&nbsp;panel.getBoundingClientRect().top;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;const&nbsp;styleBody&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#066de2">document</span>.body.style;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;styleBody.transition&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">'initial'</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;styleBody.marginTop&nbsp;<span style="color:#a71d5d">=</span>&nbsp;`${base&nbsp;<span style="color:#a71d5d">-</span>&nbsp;<span style="color:#0099cc">1</span>}px`;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#066de2">window</span>.scrollTo(panelPosition.left,&nbsp;panelPosition.top);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;styleBody.transition&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">'margin-top&nbsp;1s&nbsp;ease-in-out'</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;styleBody.marginTop&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#63a35c">'0'</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br /></p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
