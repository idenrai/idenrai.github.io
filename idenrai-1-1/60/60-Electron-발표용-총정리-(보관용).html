
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>Electron 발표용 총정리 (보관용)</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">Electron 발표용 총정리 (보관용)</h2>
                                <div class="box-info">
                                    <p class="category">Tech/Electron</p>
                                    <p class="date">2016-03-09 20:40:06</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p><a href="http://qiita.com/YoungjaeKwon/items/9a51dcc45533b2c52955">Qiita로 이동 (Qiitaの方へ移動)</a></p>
<p>언어 : 일본어<br>言語：日本語</p>
<p>마크다운으로 작성.<br>Markdownで作成。</p>
<hr>
<h1>Electron</h1>
<h2>Electronとは</h2>
<ul>
<li>旧)Atom Shell</li>
<li>Node.jsに基づいた<strong>Desktop Application Flatform</strong><ul>
<li>HTML, CSS, JavaScriptで、Cross-Flatformで 動くDesktop Applicationを作れる</li>
<li>WebPageのGUIとjavascriptで操作する<strong><a href="https://www.chromium.org/Home">Chromium Browser</a></strong></li>
</ul>
</li>
<li>Desktop Application : 似た技術として<strong><a href="http://nwjs.io/">NW.js (node-webkit)</a></strong>が存在<ul>
<li>技術的な違いについては、<a href="http://qiita.com/SFPGMR/items/afe8ac0bfad95e5ed50d">ここ</a>を参考 </li>
</ul>
</li>
<li>Electronで作られたアプリについては、<strong><a href="https://github.com/sindresorhus/awesome-electron">Awesome Electron</a></strong> 参照</li>
</ul>
<h2>環境構築手順</h2>
<h3>目標</h3>
<ul>
<li><strong>Windows</strong>での<strong>Electron</strong>開発環境構築</li>
<li>Electronで<strong>Hello World</strong>の出力</li>
<li>パッケージングでexeファイルを作成、動作確認</li>
</ul>
<h3>基本設定</h3>
<ul>
<li><p>装置１スペック</p>
<ul>
<li>CPU : i3-4000M 2.40GHz</li>
<li>RAM : 4.0GB</li>
<li>OS : Microsoft Windows 8.1 Enterprise K 64Bit</li>
<li>Electron Version： 0.36.8</li>
</ul>
</li>
<li><p>装置２スペック</p>
<ul>
<li>CPU : i3-3240 3.40GHz</li>
<li>RAM : 4.0GB</li>
<li>OS : Microsoft Windows 7 Professional SP1 32Bit</li>
<li>Electron Version： 0.36.8</li>
</ul>
</li>
</ul>
<h3>下準備</h3>
<ul>
<li><p><strong><a href="https://nodejs.org/en/#download">Node.js</a></strong> : Stable Version (v.5.7.1)</p>
<ul>
<li>npmを使うので、<strong>Node.js</strong>の設置は必須！</li>
<li>Windowsのバージョンに合わせて、msiファイルをダウンロードし、設置するだけでＯＫ</li>
</ul>
</li>
<li><p><strong>Node.js</strong>の設置確認</p>
<ul>
<li>cmd &gt; node</li>
<li>簡単なjavascriptコードを入力し、テスト</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/9538d2ae-2bd3-1729-b39b-362c2baf2213.png" alt="cmdTest.png"></p>
<ul>
<li>jsファイルでのテスト : <strong>app.js</strong> (エンコード：UTF-8)</li>
</ul>
</li>
</ul>
<pre><code class="language-javascript">var http = require(&#39;http&#39;);
 http.createServer(function(req,res){
   res.writeHead(200,{&#39;Content-Type&#39;:&#39;text/plain&#39;});
   res.end(&#39;Hello World\nHello node.js!&#39;);
 }).listen(1337,&quot;127.0.0.1&quot;);

 console.log(&quot;Server running at http://127.0.0.1:1337/&quot;);</code></pre>
<ul>
<li><p>Node.jsでapp.jsを実行し、指定したIP (<a href="http://127.0.0.1:1337">http://127.0.0.1:1337</a>)で確認</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/54f02471-171f-756b-d077-7d29e3460da3.png" alt="nodeJSTest2.png"></p>
</li>
</ul>
<h3>Electronのインストール</h3>
<ul>
<li><p>npmを使って、<strong>electron-prebuilt</strong>をダウンロード</p>
</li>
<li><p>Globalで設置したので、どこでプロジェクトを作成しても<strong>「electron プロジェクト名/</strong>」で実行できる。</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/c9623d70-d763-90e2-532c-e40d8f821297.png" alt="inst.png"></p>
</li>
</ul>
<h3>Electronの実行</h3>
<h4>Electron Appの構造</h4>
<pre><code>your-app/
├── package.json : main fieldにscript fileを指定し、main processのエントリーポイントとして使用
├── main.js      : Windowを作り、システムイベントを処理
└── index.html   : ユーザに見せるページ</code></pre><h4>プロジェクト生成</h4>
<ul>
<li>Electronは、実行されるときに「package.json」のmain scriptを呼び出す。<ul>
<li><strong>main script</strong>：main processで作動し、GUI Component操作・Web Page生成</li>
</ul>
</li>
<li><strong>npm init</strong>で<strong>package.json</strong>を作成<ul>
<li>何を言ってるのか全然理解できなかったら、ただ<strong>Enter</strong>だけ押せばほとんどＯＫ<br>(ここではプロジェクト名を<strong>electron</strong>に設定する)</li>
<li><del>ただ、<strong>entry point</strong>には必ず「<strong>main.js</strong>」を設定すること！</del></li>
<li><strong>entry point</strong>は<strong>index.js</strong>でも構わない（2019/06/04追記）</li>
<li>もし<strong>package.json</strong>に<strong>main script</strong>tが設定されてない場合、<br>Electronは自動で同じディレクトリーの<strong>index.js</strong>をロードする</li>
</ul>
</li>
</ul>
<p>  <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/94b55d28-f7c0-1732-f0e6-3a8828946064.png" alt="initProject.png"></p>
<ul>
<li>上の作業で、下のような「package.json」が生成される</li>
</ul>
<pre><code class="language-javascript">/**
 * package.json
 **/ 
{
  &quot;name&quot;: &quot;electron&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;print \&quot;Hello, Electron\&quot;&quot;,
  &quot;main&quot;: &quot;main.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;Youngjae Kwon&quot;,
  &quot;license&quot;: &quot;ISC&quot;
}</code></pre>
<h4>Hello, Electron!</h4>
<p>一旦準備が終わったので、いつもの通り<strong>「Hello World」</strong>みたいな物を出力してみよう。<br><strong>init</strong>で<strong>main script</strong>を<strong>「main.js」</strong>で設定したので、<strong>main.js</strong>から作成することに。</p>
<pre><code class="language-js">/**
 * main.js
 **/ 
// アプリケーション基盤をコントロールするモジュール
const {app} = require(&#39;electron&#39;);

// ブラウザーウィンドーを作るモジュール
const {BrowserWindow } = require(&#39;electron&#39;);

// ウィンドーオブジェクトを全域に維持
let mainWindow = null;

// すべてのウィンドーが閉じられたら呼び出される (アプリケーション終了)
app.on(&#39;window-all-closed&#39;, function() {
  if (process.platform != &#39;darwin&#39;) {
    app.quit();
  }
});

// Electronの初期化が完了し、ブラウザーウィンドーを開く準備ができたら実行
app.on(&#39;ready&#39;, function() {
  // 新しいブラウザーウィンドーを生成
  mainWindow = new BrowserWindow({width: 800, height: 600});

  // 今のディレクトリーで「 index.html」をロード
  mainWindow.loadURL(&#39;file://&#39; + __dirname + &#39;/index.html&#39;);

  // ウィンドーが閉じられたら呼び出される  (アプリケーション終了)
  mainWindow.on(&#39;closed&#39;, function() {
    // ウィンドーオブジェクトの参照を削除
    mainWindow = null;
  });
});</code></pre>
<p><strong>main.js</strong>が<strong>index.html</strong>を呼ぶことにしたので、今度は<strong>index.html</strong>を作成する。<br>実際目に見える部分はここで作成する。</p>
<ul>
<li><strong>index.html</strong></li>
</ul>
<pre><code class="language-html">&lt;!--
/*
 * index.html
 */
 --&gt;
&lt;!DOCTYPE html&gt;
&lt;html&gt;
&lt;head&gt;
  &lt;meta charset=&quot;UTF-8&quot;&gt;
  &lt;title&gt;Sample&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
  &lt;p&gt;Hello, Electron!&lt;/p&gt;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<p>これで準備はＯＫ。<br>実行してみよう。</p>
<p>  <img src="https://qiita-image-store.s3.amazonaws.com/0/114660/c5622a0e-74ae-93a7-7390-d0e18e238ae2.png" alt="sample.png"></p>
<h4>Packaging</h4>
<ul>
<li><p>プロジェクトを誰でも使えるように、パッケージ化してみよう。</p>
</li>
<li><p>ここでは、<strong><a href="https://github.com/electron-userland/electron-packager">electron-packager</a></strong>を使って作業。<br>これも<strong>npm</strong>でもってこればＯＫ</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/d4f682f7-fba3-3b5c-5bc4-a7709c1bf286.png" alt="packager.png"></p>
<p>これでダウンロード終わり。</p>
</li>
</ul>
<ul>
<li><p>早速使ってみよう</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/0886a369-3c43-60d1-0836-bac84197bbd9.png" alt="packager2.png"></p>
<p>この通り、electron-win32-ia32とelectron-win32-x64フォルダが生成された。<br>書いた内容を説明すると…</p>
<p>platform : all, linux, win32, darwin<br>arch : all, ia32, x64<br><del>version : 今は要らなくなったので、上のScreenShotに書いてあるのは無視</del><br>electron-version : electronのversionを記載（2019/06/04 追記）<br>※electronのversionは、<code>electron --version</code>で確認可能</p>
<p>ここでallを選んだので、フォルダが32と64の二つができた。</p>
<p>もし32bitWindowsの装置を使ってるとしたら、実は<br><code>electron-packager ./electron electron --platform=win32 --arch=ia32 --electron-version=1.4.13</code><br>これでＯＫ。</p>
</li>
<li><p>実行</p>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/c81c17b5-33ca-f6dd-230b-801dadf8446c.png" alt="run.png"></p>
<p>プロジェクト名をElectronにしてしまって、ちょっとわかり辛くなったが…<br>こうやってEXEファイルができ、それを実行したら普通にアプリが動く。</p>
</li>
</ul>
<h2>Electronでのアプリケーション開発</h2>
<h3>0. Source Code</h3>
<ul>
<li>これを書いてから時間もたって、Electronにもちょっと変化があった。</li>
<li>自分のGithubに新バージョンのソースを載せといたので、それを参照<ul>
<li><a href="https://github.com/idenrai/electron-notepad">Electron-Notepad</a></li>
</ul>
</li>
</ul>
<h3>1. 目標</h3>
<ul>
<li>簡単なメモ帳アプリの作成 (テキストの保存とロード機能)</li>
<li>WindowsでElectronを使うこと</li>
<li>プロジェクト作成には<strong>Atom</strong>と<strong>Grunt</strong>を使ってみること</li>
<li>パッケージングでEXEファイルを作り、動作を確認</li>
</ul>
<h3>2. 準備</h3>
<h4>2-1. Atom</h4>
<ul>
<li>Atom ダウンロード (<a href="https://atom.io">https://atom.io</a>)<br>Windowsのバージョンに合わせてインストールするだけでＯＫ</li>
<li>Packageの設置 (File→Settings→InstallでPackage検索)<ul>
<li><strong>linter</strong> : 文法上のエラー表示</li>
<li><strong>grunt-runner</strong> : AtomでGrunt実行</li>
<li><strong>minimap</strong>, <strong>minimap-find-and-replace</strong> : minimapが見える</li>
<li><strong>atom-minify</strong> : JS, CSSの圧縮化 (ctrl+shift+m or 「Minify on save」設定)</li>
</ul>
</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/7961b67e-3203-7b9e-efbb-8ed7bb134693.png" alt="package-atom.png"></p>
<h4>2-2. Grunt</h4>
<ul>
<li><p><strong>Grunt</strong>とは？</p>
<ul>
<li>プロジェクト自動化のための<strong>Command Line Build Tool</strong></li>
<li><strong>パッケージ管理者</strong> (Yeoman , Bower , Gulp等と同じ)</li>
<li>もっとも基本的な自動化パッケージ</li>
</ul>
</li>
<li><p><strong>grunt-cli (Grunt&#39;s Command Line Interface) 設置</strong></p>
<ul>
<li>grunt-cliの設置で、システム経路に「grunt」コマンドが追加され、gruntが使えるようになる。</li>
<li>grunt-cliの役割はただ<strong>Gruntflie</strong>というファイルがある場所に設置されたGruntを実行するだけ。</li>
</ul>
</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/4f6a6aa6-c214-c80c-6f92-ba90c957b50c.png" alt="grunt-cli.png"></p>
<ul>
<li><strong>Grunt Module 設置方法</strong> (package.jsonがあるディレクトリで設置)<ul>
<li>新しいModuleを設置し、package.jsonに記入 : <code>npm install grunt --save dev</code></li>
<li>すでにpackage.jsonに記入されているModuleを設置 : <code>npm install</code><br>(package.jsonとGruntfile.jsがあれば、どこでも同じgrunt作業が可能！)</li>
<li>ここでは2の方法でプロジェクト作成</li>
</ul>
</li>
</ul>
<h3>3. Project作成</h3>
<h4>3-1. ディレクトリ構成図</h4>
<pre><code>C:\PROJECT\MEMO
│  Gruntfile.js
│  main.js
│  package.json
│  
├─app
│  ├─css
│  │      bootstrap-theme.css
│  │      bootstrap-theme.css.map
│  │      bootstrap-theme.min.css
│  │      bootstrap.css
│  │      bootstrap.css.map
│  │      bootstrap.min.css
│  │      
│  ├─fonts
│  │      glyphicons-halflings-regular.eot
│  │      glyphicons-halflings-regular.svg
│  │      glyphicons-halflings-regular.ttf
│  │      glyphicons-halflings-regular.woff
│  │      glyphicons-halflings-regular.woff2
│  │      
│  ├─html
│  │  │  index.html
│  │  │  
│  │  └─include
│  │          link.html
│  │          memo.html
│  │          
│  ├─js
│  │  │  memo.js
│  │  │  memo.min.js
│  │  │  
│  │  └─lib
│  │          bootstrap.js
│  │          bootstrap.min.js
│  │          jquery-1.12.1.js
│  │          jquery-1.12.1.min.js
│  │          npm.js
│  │          
│  └─view
│      │  index.html
│      │  
│      └─include
│              link.html
│              memo.html
│              
├─dist
│  ├─css
│  │      style.min.css
│  │      
│  └─js
│          site.js
│          site.min.js
│          
└─node_modules
    ├─grunt
    ├─grunt-cache-breaker
    ├─grunt-contrib-cssmin
    ├─grunt-contrib-uglify
    ├─grunt-includes
    ├─load-grunt-tasks
    ├─moment
    └─time-grunt                        </code></pre><ul>
<li>css・fonts・libフォルダには、<a href="http://bootstrapk.com/getting-started/#download">Bootstrap</a>, <a href="http://jquery.com/download/">JQuery</a>をダウンロードして入れる。</li>
</ul>
<h4>3-2. プロジェクトソース</h4>
<ul>
<li><strong>package.json</strong></li>
</ul>
<pre><code class="language-js">{
  &quot;name&quot;: &quot;memo&quot;,
  &quot;version&quot;: &quot;1.0.0&quot;,
  &quot;description&quot;: &quot;save and load txt file&quot;,
  &quot;main&quot;: &quot;main.js&quot;,
  &quot;scripts&quot;: {
    &quot;test&quot;: &quot;echo \&quot;Error: no test specified\&quot; &amp;&amp; exit 1&quot;
  },
  &quot;author&quot;: &quot;Youngjae Kwon&quot;,
  &quot;license&quot;: &quot;ISC&quot;,
  &quot;devDependencies&quot;: {
    &quot;electron&quot;: &quot;^1.6.11&quot;,
    &quot;grunt&quot;: &quot;^0.4.5&quot;,
    &quot;grunt-cache-breaker&quot;: &quot;^2.0.1&quot;,
    &quot;grunt-contrib-cssmin&quot;: &quot;^1.0.0&quot;,
    &quot;grunt-contrib-uglify&quot;: &quot;^1.0.0&quot;,
    &quot;grunt-includes&quot;: &quot;^0.5.4&quot;,
    &quot;load-grunt-tasks&quot;: &quot;^3.4.1&quot;,
    &quot;moment&quot;: &quot;^2.8.3&quot;,
    &quot;time-grunt&quot;: &quot;^1.3.0&quot;
  }
}</code></pre>
<ul>
<li><strong>main.js</strong></li>
</ul>
<pre><code class="language-js">/**
 * main.js
 **/
&#39;use strict&#39;;
const {app, BrowserWindow} = require(&#39;electron&#39;);
let mainWindow = null;

app.on(&#39;window-all-closed&#39;, function() {
  if (process.platform != &#39;darwin&#39;) {
    app.quit();
  }
});

app.on(&#39;ready&#39;, function() {
  mainWindow = new BrowserWindow({width: 550, height: 410});
  mainWindow.loadURL(&#39;file://&#39; + __dirname + &#39;/app/view/index.html&#39;);
  mainWindow.on(&#39;closed&#39;, function() {
    mainWindow = null;
  });
});</code></pre>
<ul>
<li><strong>Gruntfile.js</strong></li>
</ul>
<pre><code class="language-js">/**
 * Gruntfile.js
 **/
module.exports = function(grunt) {
    &#39;use strict&#39;;
    var moment = (require(&#39;moment&#39;))();
    var timestamp = &#39;None&#39;;

    // 自動でgrunt Taskをロードする。(grunt.loadNpmTasksは省略可能)
    require(&#39;load-grunt-tasks&#39;)(grunt);

    // 作業時間表示
    require(&#39;time-grunt&#39;)(grunt);

    grunt.initConfig({
        pkg: grunt.file.readJSON(&#39;package.json&#39;),

        // html task
        includes: {
            files: {
                cwd: &#39;app/html/&#39;,    // app/htmlのhtmlファイルにinclude処理をして
                src: [&#39;**/*.html&#39;],
                dest: &#39;app/view/&#39;,    // その結果をapp/viewに入れる
                options: {
                    flatten: true,
                    debug: true,
                    includePath: &#39;app/html/&#39;
                }
            }
        },
        // css task
        cssmin: {
            options: {
                keepSpecialComments: 1,
            },
            dist: {
                src: &#39;dist/css/style.css&#39;,
                dest: &#39;dist/css/style.min.css&#39;
            }
        },
        // js task
        uglify: {
            options: {
                banner: &#39;&lt;%= banner %&gt;&#39;
            },
            dist: {
                src: &#39;dist/js/site.js&#39;,
                dest: &#39;dist/js/site.min.js&#39;
            }
        },
        cachebreaker: {
          dev: {
            options: {
              match: [&#39;.js&#39;],
              replacement: function () {
                return moment.format(&#39;YYYYMMDDhhmmss&#39;);
              }
            },
            files: {
              src: [&#39;app/html/*.html&#39;, &#39;app/view/*.html&#39;]
            }
          }
        }
    });

    // html task
    grunt.registerTask(&#39;html&#39;, [&#39;includes&#39;]);
    // css task
    grunt.registerTask(&#39;css&#39;, [&#39;cssmin&#39;]);
    // javascript task
    grunt.registerTask(&#39;js&#39;, [&#39;uglify&#39;, &#39;cachebreaker&#39;]);

    // default task
    grunt.registerTask(&#39;default&#39;, [&#39;html&#39;, &#39;css&#39;, &#39;js&#39;]);
};</code></pre>
<ul>
<li><strong>index.html</strong></li>
</ul>
<pre><code class="language-html">&lt;!--
/*
 * index.html
 */
 --&gt;
&lt;!DOCTYPE html&gt;
&lt;html lang=&quot;ja&quot;&gt;
&lt;head&gt;
  &lt;meta charset=&quot;utf-8&quot;&gt;
  &lt;title&gt;Memo MK2&lt;/title&gt;
  &lt;link href=&quot;../css/bootstrap.min.css&quot; rel=&quot;stylesheet&quot;&gt;
&lt;/head&gt;
&lt;body&gt;
  include &quot;include/link.html&quot;
  include &quot;include/memo.html&quot;
&lt;/body&gt;
&lt;/html&gt;</code></pre>
<ul>
<li><strong>link.html</strong></li>
</ul>
<pre><code class="language-html">&lt;!--
/*
 * link.html
 */
 --&gt;
&lt;script src=&quot;../js/lib/jquery-1.12.1.min.js&quot;&gt;&lt;/script&gt;
&lt;script src=&quot;../js/lib/bootstrap.min.js&quot;&gt;&lt;/script&gt;
&lt;script type=&quot;text/javascript&quot; src=&quot;../js/memo.min.js&quot;&gt;&lt;/script&gt;</code></pre>
<ul>
<li><strong>memo.html</strong></li>
</ul>
<pre><code class="language-html">&lt;!--
/*
 * memo.html
 */
 --&gt;
&lt;table class=&quot;table table-striped&quot;&gt;
  &lt;tr&gt;
    &lt;td style=&quot;text-align: left; width: 100px;&quot;&gt;テキスト入力&lt;/td&gt;
    &lt;td colspan=&quot;2&quot; style=&quot;text-align:left; width:300px;&quot;&gt;
      &lt;textarea id=&quot;ntText&quot; class=&quot;input-xxlarge&quot; style=&quot;width:95%; height:200px;&quot; maxlength=&quot;4000&quot;&gt;&lt;/textarea&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;ファイル名&lt;/td&gt;
    &lt;td&gt;
      &lt;input type=&quot;text&quot; class=&quot;form-control&quot;  id=&quot;nmSaveFile&quot; /&gt;
    &lt;/td&gt;
    &lt;td&gt;
      &lt;button class=&quot;btn btn-default btn-primary&quot; onclick=&quot;saveTxt()&quot;&gt;保存する&lt;/button&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
  &lt;tr&gt;
    &lt;td&gt;ファイル選択&lt;/td&gt;
    &lt;td&gt;
      &lt;input type=&quot;file&quot; class=&quot;form-control&quot;  id=&quot;nmLoadFile&quot; /&gt;
    &lt;/td&gt;
    &lt;td&gt;
      &lt;button class=&quot;btn btn-default btn-primary&quot; onclick=&quot;loadTxt()&quot;&gt;ロードする&lt;/button&gt;
    &lt;/td&gt;
  &lt;/tr&gt;
&lt;/table&gt;</code></pre>
<ul>
<li><strong>memo.js</strong></li>
</ul>
<pre><code class="language-js">/**
 * memo.js
 **/
// テキスト保存
function saveTxt(){
  var ntText = document.getElementById(&quot;ntText&quot;).value;
  var ntBlobText = new Blob([ntText], {type:&#39;text/plain&#39;});
  var nmSaveFile = document.getElementById(&quot;nmSaveFile&quot;).value;
  var saveLink = document.createElement(&quot;a&quot;);
  saveLink.download = (nmSaveFile === null || nmSaveFile == &quot;&quot;) ? &quot;memo.txt&quot; : nmSaveFile + &quot;.txt&quot;;
  saveLink.innerHTML = &quot;Download File&quot;;
  saveLink.href = window.webkitURL.createObjectURL(ntBlobText);
  saveLink.click();
}

// テキストロード
function loadTxt(){
  var nmLoadFile = document.getElementById(&quot;nmLoadFile&quot;).files[0];
  var fileReader = new FileReader();
  fileReader.onload = function(fileLoadedEvent){
    var ntLoadText = fileLoadedEvent.target.result;
    document.getElementById(&quot;ntText&quot;).value = ntLoadText;
  };
  fileReader.readAsText(nmLoadFile, &quot;UTF-8&quot;);
}</code></pre>
<h4>3-3. プロジェクト作成</h4>
<ul>
<li><strong>node_modules</strong> インストール<ul>
<li><strong>package.json</strong>に<strong>devDependencies</strong>として定義されているmoduleを全部インストールする。</li>
<li><code>C:\PROJECT</code>にて<code>npm install</code></li>
</ul>
</li>
<li><strong>Atom Minify</strong>で<strong>memo.min.js</strong>作成<ul>
<li><strong>atom-minify</strong>の設定で「Minify on save」を設定すると、保存する時に自動でmemo.min.jsを生成</li>
<li>この画面が出ればＯＫ。 </li>
</ul>
</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/8f5e7196-8a67-4c43-b506-387b6b29733d.png" alt="success_minify.png"></p>
<ul>
<li><strong>Grunt Runner</strong>で<strong>Grunt</strong>を<strong>Default</strong>で動かす<ul>
<li>Gruntは勉強用で入れたのがほとんどで、実際この作業で必須なのは<strong>includes</strong>だけ。</li>
<li><strong>link.html</strong>、<strong>memo.html</strong>を<strong>index.html</strong>に含め、<strong>/app/view/index.html</strong>を作成</li>
<li>この画面が出ればＯＫ。</li>
</ul>
</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/948088db-b20f-aca4-4e34-10c76f657e1e.png" alt="grunt_success.png"></p>
<ul>
<li><code>C:\PROJECT</code>にて<code>electron memo/</code>で動作確認 <ul>
<li>この画面が出ればＯＫ。</li>
</ul>
</li>
</ul>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/630480d2-b2bf-8412-a4a1-84ef57289ace.png" alt="run_electron.png"></p>
<h3>4. パッケージング・動作確認</h3>
<h4>4-1. パッケージング</h4>
<ul>
<li><strong>memoフォルダ</strong>を<strong>memoMK2</strong>という名前でパッケージングする。</li>
</ul>
<pre><code>C:\Users\idenr\project&gt;electron-packager ./memo memoMK2 --platform=win32 --arch=x64
Packaging app for platform win32 x64 using electron v1.6.11
Wrote new app to C:\Users\idenr\project\memoMK2-win32-x64</code></pre><h4>4-2. 作動確認</h4>
<p><img src="https://qiita-image-store.s3.amazonaws.com/0/114660/eed83335-c18b-b816-244c-158be4a3d9c4.png" alt="complete.png"></p>
<h2>まとめ</h2>
<h3>すごく簡単！</h3>
<ul>
<li>Web Pageを作る感覚で、普通にDesktop Applicationが作れる。</li>
<li>環境設定に時間がかからないのもメリット<ul>
<li>以前のHadoopの時を考えたら…</li>
<li>特にWindowsでも簡単にできるのが嬉い。</li>
</ul>
</li>
</ul>
<h3>Creatorとしての喜び</h3>
<ul>
<li>こうやって簡単にアプリを作れるから、創作意欲が沸く。</li>
<li>自分に必要な物は、自分で作ってみよう！</li>
</ul>
<h2>参考</h2>
<ul>
<li><a href="https://github.com/atom/electron">Electron Github</a></li>
<li><a href="http://qiita.com/SFPGMR/items/afe8ac0bfad95e5ed50d">electronとnw.jsの技術的な違い</a></li>
<li><a href="http://qiita.com/nyanchu/items/15d514d9b9f87e5c0a29">30分で出来る、JavaScript (Electron) でデスクトップアプリを作って配布するまで</a></li>
<li><a href="http://blog.outsider.ne.kr/1169">Outsider&#39;s Dev Story</a></li>
<li><a href="https://github.com/demun/demun.github.com/wiki/01_00_grunt_guide">Grunt 가이드</a></li>
</ul>

                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
