
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>라벨의 Byte Length에 따른 요소 길이 조정</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">라벨의 Byte Length에 따른 요소 길이 조정</h2>
                                <div class="box-info">
                                    <p class="category">Tech/React.js</p>
                                    <p class="date">2017-01-23 20:46:50</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p>material-ui를 이용해 데이터테이블을 만드는 중이었다.</p><p>이게 기본적으로 테이블 width를 100%로 잘라 버리는데,</p><p>그러다 보니 브라우저가 작아지면 그만큼 각 요소의 길이도 찌그러지더라.</p><p style="text-align: left;"><br /></p><p style="text-align: left; clear: none; float: none;"><figure class="imageblock alignCenter" width="499" height="388" filename="before.png" filemime="image/jpeg">
    <span data-lightbox="lightbox">
        <img src="./img/before.png" width="499" height="388" filename="before.png" filemime="image/jpeg" />
    </span>
    <figcaption></figcaption>
</figure></p><p><br /></p><p>처음엔 그냥 이렇게 ellipsis로 땜빵하려고 했는데,</p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">tableHeaderColumn</span><span style="color:#4DA51B">:&nbsp;</span>{</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#0099cc">&nbsp;&nbsp;fontWeight</span><span style="color:#ff3399">:</span><span style="color:#0099cc">&nbsp;600,</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#0099cc">&nbsp;&nbsp;whiteSpace</span><span style="color:#ff3399">:</span><span style="color:#0099cc">&nbsp;'nowrap',</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#0099cc">&nbsp;&nbsp;overflow</span><span style="color:#ff3399">:</span><span style="color:#0099cc">&nbsp;'hidden',</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#0099cc">&nbsp;&nbsp;textOverflow</span><span style="color:#ff3399">:</span><span style="color:#0066cc">&nbsp;'ellipsis',</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">},</div></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br /></p><p>슬프게도 textOverFlow가 header column에 안먹히더라...</p><p>내가 개조하는 과정에서 뭔가 삽질을 한 모양이다.</p><p><br /></p><p>여하튼 이걸 그대로 낼 수는 없으니,</p><p>적어도 column label만큼은 제대로 표시하고 싶었다.</p><p>데이터에는 ellipsis가 먹히기도 하고...</p><p><br /></p><p>처음에는 minWidth등으로 어찌어찌 해 보려고 했는데...</p><p>뭐 하나도 먹히는게 없어서 좌절에 좌절을 거듭하다가...</p><p>render에서 label의 길이를 가지고 width를 설정하는 것에 생각이 갔다.</p><p><br /></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#ff3399">width</span><span style="color:#4DA51B">:&nbsp;'</span>{<span style="color:#0066cc">char&nbsp;length</span>}ch'</div></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br /></p><p>코드는 다음과 같다.</p><p><br /></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">...</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">&lt;</span>TableRow&nbsp;onCellClick<span style="color:#a71d5d">=</span>{this.handleHeaderColumnClick}<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;{columns.map((row,&nbsp;index)&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">&gt;</span>&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;byteLength&nbsp;<span style="color:#a71d5d">=</span>&nbsp;row.label.replace(<span style="color:#a71d5d">/</span>[\<span style="color:#0099cc">0</span><span style="color:#a71d5d">-</span>\x7f]<span style="color:#a71d5d">|</span>([<span style="color:#0099cc">0</span><span style="color:#a71d5d">-</span>\u07ff]<span style="color:#a71d5d">|</span>(.))<span style="color:#a71d5d">/</span>g,&nbsp;<span style="color:#63a35c">'$&amp;$1$2'</span>).<span style="color:#066de2">length</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;style&nbsp;<span style="color:#a71d5d">=</span>&nbsp;assign({},&nbsp;styles.tableHeaderColumn,&nbsp;{&nbsp;width:&nbsp;`${byteLength}ch`&nbsp;},&nbsp;row.style&nbsp;<span style="color:#a71d5d">|</span><span style="color:#a71d5d">|</span>&nbsp;{});</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;sortable&nbsp;<span style="color:#a71d5d">=</span>&nbsp;row.sortable;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;sorted&nbsp;<span style="color:#a71d5d">=</span>&nbsp;this.state.sort.column&nbsp;<span style="color:#a71d5d">=</span><span style="color:#a71d5d">=</span><span style="color:#a71d5d">=</span>&nbsp;row.key;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;const&nbsp;order&nbsp;<span style="color:#a71d5d">=</span>&nbsp;sorted&nbsp;?&nbsp;this.state.sort.order&nbsp;:&nbsp;<span style="color:#63a35c">'asc'</span>;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">return</span>&nbsp;(</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span>DataTablesHeaderColumn</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;key<span style="color:#a71d5d">=</span>{index}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;style<span style="color:#a71d5d">=</span>{style}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;tooltip<span style="color:#a71d5d">=</span>{row.tooltip}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sortable<span style="color:#a71d5d">=</span>{sortable}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;sorted<span style="color:#a71d5d">=</span>{sorted}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;order<span style="color:#a71d5d">=</span>{order}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span>span<span style="color:#a71d5d">&gt;</span>{row.label}<span style="color:#a71d5d">&lt;</span><span style="color:#a71d5d">/</span>span<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">&lt;</span><span style="color:#a71d5d">/</span>DataTablesHeaderColumn<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;},&nbsp;this)}</div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">&lt;</span><span style="color:#a71d5d">/</span>TableRow<span style="color:#a71d5d">&gt;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">...</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; background-color: rgb(229, 229, 229); border-radius: 10px; padding: 1px;">cs</span></a></td></tr></tbody></table></div><p><br /></p><p>그냥 row.label.length로 길이를&nbsp;넣으면</p><p>아무래도 일본어다 보니 전각/반각 문제도 있어서 제대로 column이 표시되지 않는다.</p><p>그래서 그냥 byte길이로 width를 설정하였다.</p><p><br /></p><p>결과는 다음과 같다.</p><p><br /></p><p style="text-align: left; clear: none; float: none;"><figure class="imageblock alignCenter" width="499" height="388" filename="after.png" filemime="image/jpeg">
    <span data-lightbox="lightbox">
        <img src="./img/after.png" width="499" height="388" filename="after.png" filemime="image/jpeg" />
    </span>
    <figcaption></figcaption>
</figure></p><p><br /></p><p>가끔 column이 데이터보다 짧아서 데이터가 ...으로 짤리는 경우가 존재하는데...</p><p>이 경우는 그냥 config에서 column을 설정시, column width를 prop으로 보내는 것으로 하였다.</p><p>하여 assign의 우선순위는</p><p>prop으로 받아온 style &gt; label길이 &gt; 내부 설정 순으로 정했다.</p>
                        </div>
                        <br/>
                        <div class="tags">
                            #CSS #javascript #react.js 
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
