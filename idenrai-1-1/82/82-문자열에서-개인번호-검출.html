
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>문자열에서 개인번호 검출</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">문자열에서 개인번호 검출</h2>
                                <div class="box-info">
                                    <p class="category">Tech/JavaScript</p>
                                    <p class="date">2016-08-02 14:33:17</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p>요즘 보험과 연계된 개인번호(일본판 주민번호)&nbsp;입력 화면을 만드는 중인데,</p><p>이 개인번호라는 것이 일단 우리나라 주민번호처럼 일정 패턴을 가지고 있더라.</p><p>패턴 자체야 뭐 중요한 것은 아니니 넘어가고...</p><p><br /></p><p>여하튼 어제의 업무를 잠시 설명하자면-</p><p>1. 입력 화면에서 개인번호를 입력받아, 개인번호 형식이 맞는지를 확인한다.</p><p>2. 올바른 패턴이라면 다음 화면으로 이동</p><p>3. 개인번호와 그외 정보를 연관지어 확인 화면을 띄움</p><p>4. 확인 화면상에서 업무용 메모를 입력 후, 확인 버튼을 누르면 입력 완료.</p><p>라는 것인데...</p><p><br /></p><p><b>이용자에 따라선 이 「업무용 메모」란에 개인번호를 넣어버리는 경우가 있다고 하니, 이를 방지할 필요가 있다</b></p><p>는 것이 오늘의 포스팅 내용이다.</p><p><br /></p><p><b>목표</b></p><p>&nbsp;- 입력된 업무용 메모를 받아, 그 문자열 내에 개인번호와 동일한 패턴의 숫자가 있는지 확인</p><p><br /></p><p><b>조건</b></p><p>&nbsp;- 개인번호는 12자리의 숫자로 이루어져 있으며, 일정 패턴을 지닌다.</p><p>&nbsp;- 12보다 짧거나 길 경우의 숫자는 무시한다.</p><p>&nbsp;- 올바른 패턴의 12숫자일지라도, 중간에 줄바꿈이 들어갈 경우는 다른 문자로 친다.</p><p><br /></p><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div><div style="line-height:130%">24</div><div style="line-height:130%">25</div><div style="line-height:130%">26</div><div style="line-height:130%">27</div><div style="line-height:130%">28</div><div style="line-height:130%">29</div><div style="line-height:130%">30</div><div style="line-height:130%">31</div><div style="line-height:130%">32</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#a71d5d">function</span>&nbsp;validateMemoValue(param)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;<span style="color:#a71d5d">return</span>&nbsp;<span style="color:#a71d5d">new</span>&nbsp;Promise(<span style="color:#a71d5d">function</span>(resolve,&nbsp;reject)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;에러메세지&nbsp;초기화</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;$(<span style="color:#63a35c">'.balloon-zone'</span>).removeClass(<span style="color:#63a35c">'check-balloon'</span>).html(<span style="color:#63a35c">''</span>).fadeOut(<span style="color:#63a35c">'slow'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;업무용&nbsp;메모에&nbsp;입력치가&nbsp;있을&nbsp;경우</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(param.memo.<span style="color:#066de2">length</span>&nbsp;<span style="color:#a71d5d">&gt;</span>&nbsp;<span style="color:#0099cc">0</span>)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">var</span>&nbsp;str;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;0-9이외의&nbsp;모든&nbsp;문자를&nbsp;「,」로&nbsp;변환&nbsp;후,&nbsp;「,」를&nbsp;기준으로&nbsp;쪼갬</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;이를&nbsp;통해,&nbsp;숫자로만&nbsp;이루어진&nbsp;문자열이&nbsp;배열로&nbsp;str에&nbsp;들어감</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;str&nbsp;<span style="color:#a71d5d">=</span>&nbsp;param.memo.replace(<span style="color:#a71d5d">/</span>[^<span style="color:#0099cc">0</span><span style="color:#a71d5d">-</span><span style="color:#0099cc">9</span>]<span style="color:#a71d5d">/</span>g,<span style="color:#63a35c">","</span>).<span style="color:#066de2">split</span>(<span style="color:#63a35c">","</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;각&nbsp;문자열을&nbsp;for로&nbsp;돌림&nbsp;&nbsp;&nbsp;&nbsp;</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">for</span>&nbsp;(<span style="color:#a71d5d">var</span>&nbsp;i&nbsp;<span style="color:#a71d5d">=</span>&nbsp;<span style="color:#0099cc">0</span>;&nbsp;i&nbsp;<span style="color:#a71d5d">&lt;</span>&nbsp;str.<span style="color:#066de2">length</span>;&nbsp;i<span style="color:#a71d5d">+</span><span style="color:#a71d5d">+</span>)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">var</span>&nbsp;num&nbsp;<span style="color:#a71d5d">=</span>&nbsp;str[i];</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;12자리의&nbsp;숫자라면</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(num.<span style="color:#066de2">length</span><span style="color:#a71d5d">=</span><span style="color:#a71d5d">=</span><span style="color:#0099cc">12</span>)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;패턴&nbsp;구하기</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#999999">//&nbsp;패턴과&nbsp;일치할&nbsp;경우&nbsp;에러메세지를&nbsp;출력&nbsp;후&nbsp;reject</span></div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span style="color:#a71d5d">if</span>&nbsp;(&nbsp;<span style="color:#999999">/*패턴과&nbsp;일치할&nbsp;경우*/</span>&nbsp;)&nbsp;{</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;$(<span style="color:#63a35c">'.balloon-zone'</span>).addClass(<span style="color:#63a35c">'check-balloon'</span>).html(msg.get(<span style="color:#63a35c">'include.personal.num'</span>)).fadeIn(<span style="color:#63a35c">'slow'</span>);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reject(param);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;}</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;&nbsp;&nbsp;resolve(param);</div><div style="padding:0 6px; white-space:pre; line-height:130%">&nbsp;&nbsp;});</div><div style="padding:0 6px; white-space:pre; line-height:130%">}</div></div><div style="text-align:right; margin-top:-13px; margin-right:5px; font-size:9px; font-style:italic"><a href="http://colorscripter.com/info#e" target="_blank" style="color: rgb(229, 229, 229);">Colored by Color Scripter</a></div></td><td style="vertical-align:bottom; padding:0 2px 4px 0"><a href="http://colorscripter.com/info#e" target="_blank" style="color: white;"><span style="font-size: 9px; word-break: normal; border-radius: 10px; padding: 1px; background-color: rgb(229, 229, 229);">cs</span></a></td></tr></tbody></table></div><p><br /></p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
