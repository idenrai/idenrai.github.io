
<meta charset="utf-8">
<html lang="ko">
<head>
    <link rel="stylesheet" type="text/css" href="./../style.css" />
    <title>BigDecimal계산식의 Divide 오류 해결</title>
</head>
<body id="tt-body-page" class="">
<div id="wrap" class="wrap-right">
    <div id="container">
        <main class="main ">
            <div class="area-main">
                <div class="area-view">
                    <div class="article-header">
                        <div class="inner-article-header">
                            <div class="box-meta">
                                <h2 class="title-article">BigDecimal계산식의 Divide 오류 해결</h2>
                                <div class="box-info">
                                    <p class="category">Tech/iReport</p>
                                    <p class="date">2015-12-11 09:55:43</p>
                                </div>
                            </div>
                        </div>
                    </div>
                    <hr>
                    <div class="article-view">
                        <div class="contents_style">
                            <p>((請求金額+付替金額)－支払金額)/<span style="line-height: 1.5;">(請求金額+付替金額)*100</span></p><p><span style="line-height: 1.5;">의 계산으로 소수점 2자리까지 출력하는 계산을 해야 하는 상황.</span></p><p><span style="line-height: 1.5;">계산 자체는 언제나처럼 BigDecimal을 이용하였는데,</span></p><p>기존 레포트 테스트에서와는 달리, JAVA와 연결한 PT에서 오류가 발생했다.</p><p><span style="line-height: 1.5;"><br /></span></p><p><span style="line-height: 1.5;">이유를 확인해 보니,</span></p><p>請求金額+付替金額가 0인 경우, 0으로 나눌 수 없다는 오류가 발생하는 것.</p><p><br /></p><p>결국 해결한 방법은&nbsp;<span style="line-height: 1.5;">분기를 넣는 것으로,&nbsp;</span></p><p><span style="line-height: 1.5;">(請求金額+付替金額)－支払金額)이나 (</span><span style="line-height: 1.5;">請求金額+付替金額)가 0인 경우</span></p><p><span style="line-height: 1.5;">그냥 리턴치를 0으로 돌려 버리는 것.</span></p><p><span style="line-height: 1.5;">NULL체크 등도 해야 하기에, 코드가 조금 길어졌다.</span></p><p><span style="line-height: 1.5;"><br /></span></p><span class="txt_fold">코드 확인</span>
<div class="moreless_content"><div id="content43_0" class="moreless_content" style="box-sizing: border-box; padding: 10px; border-bottom-width: 1px; border-bottom-style: solid; border-bottom-color: rgb(238, 238, 238); color: rgb(0, 0, 0); font-family: 'Ubuntu Condensed', 'Meiryo UI', NSK; font-size: 14px; line-height: 25.2px; background-color: rgb(255, 255, 255);"><div class="colorscripter-code" style="color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; position:relative !important; overflow:auto"><table class="colorscripter-code-table" style="margin:0; padding:0; border:none; background-color:#fafafa; border-radius:4px;" cellspacing="0" cellpadding="0"><tbody><tr><td style="padding:6px; border-right:2px solid #e5e5e5"><div style="margin:0; padding:0; word-break:normal; text-align:right; color:#666; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="line-height:130%">1</div><div style="line-height:130%">2</div><div style="line-height:130%">3</div><div style="line-height:130%">4</div><div style="line-height:130%">5</div><div style="line-height:130%">6</div><div style="line-height:130%">7</div><div style="line-height:130%">8</div><div style="line-height:130%">9</div><div style="line-height:130%">10</div><div style="line-height:130%">11</div><div style="line-height:130%">12</div><div style="line-height:130%">13</div><div style="line-height:130%">14</div><div style="line-height:130%">15</div><div style="line-height:130%">16</div><div style="line-height:130%">17</div><div style="line-height:130%">18</div><div style="line-height:130%">19</div><div style="line-height:130%">20</div><div style="line-height:130%">21</div><div style="line-height:130%">22</div><div style="line-height:130%">23</div></div></td><td style="padding:6px 0"><div style="margin:0; padding:0; color:#010101; font-family:Consolas, 'Liberation Mono', Menlo, Courier, monospace !important; line-height:130%"><div style="padding:0 6px; white-space:pre; line-height:130%">$V{mnSaeki}.compareTo(<span style="color:#a71d5d">new</span>&nbsp;BigDecimal(Double.<span style="color:#066de2">valueOf</span>(<span style="color:#63a35c">"0"</span>)))<span style="color:#0086b3"></span><span style="color:#a71d5d">=</span><span style="color:#0086b3"></span><span style="color:#a71d5d">=</span><span style="color:#0099cc">0</span></div><div style="padding:0 6px; white-space:pre; line-height:130%"><span style="color:#0086b3"></span><span style="color:#a71d5d"></div><p><br /></p>
                        </div>
                        <br/>
                        <div class="tags">
                            
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>
</div>
</body>
</html>
